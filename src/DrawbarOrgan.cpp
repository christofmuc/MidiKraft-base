/*
   Copyright (c) 2020 Christof Ruch. All rights reserved.

   Dual licensed: Distributed under Affero GPL license by default, an MIT license is available for purchase
*/

#include "DrawbarOrgan.h"

#include "JuceHeader.h"

namespace midikraft {

	std::vector<Drawbar> DrawbarOrgan::kHammondDrawbars = {
		Drawbar("16'", Drawbar::BROWN, "Sub-octave", "Bass", 1),
		Drawbar("5 2/3'", Drawbar::BROWN, "5th", "Quint", 3),
		Drawbar("8'", Drawbar::WHITE, "Unison", "Neutral", 2),
		Drawbar("4'", Drawbar::WHITE, "8th", "Octave", 4),
		Drawbar("2 2/3'", Drawbar::BLACK, "12th", "Nazard", 6),
		Drawbar("2'", Drawbar::WHITE, "15th", "Block-flute", 8),
		Drawbar("1 3/5'", Drawbar::BLACK, "17th", "Tierce", 10),
		Drawbar("1 1/3'", Drawbar::BLACK, "19th", "Larigot", 12),
		Drawbar("1'", Drawbar::WHITE, "22nd", "Sifflute", 16),
	};

	// Taken from http://www.dairiki.org
	std::vector<DrawbarOrgan::RegistrationDefinition> DrawbarOrgan::popularRegistrations = {
		{ "Gospel",{ HarmonicsFromRegistration("88 8000 008") } },
		{ "Blues",{ HarmonicsFromRegistration("88 8800 000") } },
		{ "Rod Argent",{ HarmonicsFromRegistration("88 0000 000") } },
		{ "Brian Auger",{ HarmonicsFromRegistration("88 8110 000") } },
		{ "Tom Coster",{ HarmonicsFromRegistration("88 8800 000") } },
		{ "Jesse Crawford",{ HarmonicsFromRegistration("80 0800 000") } },
		{ "ELP",{ HarmonicsFromRegistration("88 8000 000") } },
		{ "Joey DeFrancesco",{ HarmonicsFromRegistration("88 8400 080") } },
		{ "Joey DeFrancesco 2",{ HarmonicsFromRegistration("83 8000 080") } },
		{ "Booker T. Jones",{ HarmonicsFromRegistration("88 8630 000") } },
		{ "Green Onions",{ HarmonicsFromRegistration("80 8800 008") } },
		{ "Jon Lord",{ HarmonicsFromRegistration("88 8000 000") } },
		{ "Procul Harum",{ HarmonicsFromRegistration("80 0808 000") } },
		{ "A Whiter Shade of Pale",{ HarmonicsFromRegistration("68 8600 000") } },
		{ "A Whiter Shade of Pale Chords",{ HarmonicsFromRegistration("00 4370 000") } },
		{ "Jimmy McGriff (gospel)",{ HarmonicsFromRegistration("86 8600 006") } },
		{ "Steve Winwood",{ HarmonicsFromRegistration("84 8848 448") } },
		{ "Errol Garner",{ HarmonicsFromRegistration("80 0008 888") } },
		{ "Earl Grant",{ HarmonicsFromRegistration("88 8888 888") } },
		{ "Earl Grant 2",{ HarmonicsFromRegistration("88 8877 666") } },
		{ "Tony Banks (Genesis)",{ HarmonicsFromRegistration("33 6866 330") } },
	};

	// http://www.dairiki.org/HammondWiki/LocalCopy
	// CHART OF HAMMOND ORGAN STOPS (courtesy of the Leslie Organ Company, Box 1, Leslie, MI 49251)
	std::vector<DrawbarOrgan::RegistrationDefinition> DrawbarOrgan::pipeOrganStops = {
		// String Stops
		{ "Aeoline 8'", { HarmonicsFromRegistration("00 1321 101") } },
		{ "Bass Violin 16'", { HarmonicsFromRegistration("14 5431 000") } },
		{ "Bell Gamba 8'", { HarmonicsFromRegistration("00 2766 543") } },
		{ "Celeste 8'", { HarmonicsFromRegistration("00 2563 311") } },
		{ "Cello 8'", { HarmonicsFromRegistration("00 1454 432") } },
		{ "Cello Pomposa 8'", { HarmonicsFromRegistration("00 2767 321") } },
		{ "Contra Dulciana 16'", { HarmonicsFromRegistration("65 6000 000") } },
		{ "Contra Gamba 16'", { HarmonicsFromRegistration("37 5400 000") } },
		{ "Dulciana 8'", { HarmonicsFromRegistration("00 7880 000") } },
		{ "Echo Dulciana 8'", { HarmonicsFromRegistration("00 2110 000") } },
		{ "Echo Violin 8'", { HarmonicsFromRegistration("00 1234 321") } },
		{ "Etherial Violin 8'", { HarmonicsFromRegistration("00 1342 322") } },
		{ "Gamba 8'", { HarmonicsFromRegistration("00 3474 432") } },
		{ "Gemshorn 8'", { HarmonicsFromRegistration("00 4742 321") } },
		{ "Grand Violin 8'", { HarmonicsFromRegistration("00 3776 543") } },
		{ "Gross Cello 8'", { HarmonicsFromRegistration("00 3767 542") } },
		{ "Gross Gamba 8'", { HarmonicsFromRegistration("00 4787 542") } },
		{ "Gross Gemshorn 8'", { HarmonicsFromRegistration("00 6876 542") } },
		{ "Muted Cello 8'", { HarmonicsFromRegistration("00 1343 020") } },
		{ "Muted String 8'", { HarmonicsFromRegistration("00 2453 021") } },
		{ "Muted Violin 8'", { HarmonicsFromRegistration("00 1565 120") } },
		{ "Octave Gemshorn 4'", { HarmonicsFromRegistration("00 0507 042") } },
		{ "Orchestral String 8'", { HarmonicsFromRegistration("00 1464 322") } },
		{ "Salicional 16'", { HarmonicsFromRegistration("35 4321 000") } },
		{ "Salicional 8'", { HarmonicsFromRegistration("00 2454 321") } },
		{ "Salicional 4'", { HarmonicsFromRegistration("00 0214 053") } },
		{ "Soft String 16'", { HarmonicsFromRegistration("13 3211 000") } },
		{ "Soft String 4'", { HarmonicsFromRegistration("00 0213 032") } },
		{ "Solo Cello 8'", { HarmonicsFromRegistration("00 1656 331") } },
		{ "Solo Viola 8'", { HarmonicsFromRegistration("00 2475 341") } },
		{ "Solo Violin 8'", { HarmonicsFromRegistration("00 1586 341") } },
		{ "String Organ",{ HarmonicsFromRegistration("22 5786 765") } },
		{ "String Reed 8'", { HarmonicsFromRegistration("00 5564 321") } },
		{ "Viola 8'", { HarmonicsFromRegistration("00 2464 332") } },
		{ "Viola Celesta 8'", { HarmonicsFromRegistration("00 2464 221") } },
		{ "Viola da Gamba 8'", { HarmonicsFromRegistration("00 2464 432") } },
		{ "Viola D'Amore 8'", { HarmonicsFromRegistration("00 2433 321") } },
		{ "Viola Sorda 8'", { HarmonicsFromRegistration("00 2232 210") } },
		{ "Violetta 4'", { HarmonicsFromRegistration("00 0114 053") } },
		{ "Violin 8'", { HarmonicsFromRegistration("00 1565 653") } },
		{ "Violina 4'", { HarmonicsFromRegistration("00 0113 064") } },
		{ "Violine 16'", { HarmonicsFromRegistration("26 3432 000") } },
		{ "Voix Celeste 8'", { HarmonicsFromRegistration("00 2565 233") } },
		//{ "REED STOPS") } },
		{ "Aeolodicon 16'", { HarmonicsFromRegistration("44 4422 000") } },
		{ "Baritone 8'", { HarmonicsFromRegistration("00 5545 431") } },
		{ "Bassoon 8'", { HarmonicsFromRegistration("07 8120 000") } },
		{ "Bass Tuba 16'", { HarmonicsFromRegistration("86 7421 000") } },
		{ "Bell Clarinet 8'", { HarmonicsFromRegistration("00 6174 432") } },
		{ "Bombarde 16'", { HarmonicsFromRegistration("86 8410 000") } },
		{ "Brass Fanfare 8'", { HarmonicsFromRegistration("01 5788 770") } },
		{ "Brass Trumpet 8'", { HarmonicsFromRegistration("01 5878 870") } },
		{ "Bugle 8'", { HarmonicsFromRegistration("00 5885 420") } },
		{ "Chalumeau 8'", { HarmonicsFromRegistration("00 4142 321") } },
		{ "Chorus Reed 8'", { HarmonicsFromRegistration("00 7777 411") } },
		{ "Clarinet 8'", { HarmonicsFromRegistration("00 4161 432") } },
		{ "Clarion 4'", { HarmonicsFromRegistration("00 0807 087") } },
		{ "Contra Clarinet 16'", { HarmonicsFromRegistration("54 2221 000") } },
		{ "Contra Fagotto 16'", { HarmonicsFromRegistration("64 7432 000") } },
		{ "Contra Oboe 16'", { HarmonicsFromRegistration("15 3210 000") } },
		{ "Contra Saxophine 16'", { HarmonicsFromRegistration("86 7100 000") } },
		{ "Contra Trombone 16'", { HarmonicsFromRegistration("68 8710 000") } },
		{ "Contra Trumpet 16'", { HarmonicsFromRegistration("67 7732 000") } },
		{ "Contra Tuba 16'", { HarmonicsFromRegistration("88 8875 000") } },
		{ "Cornet 8'", { HarmonicsFromRegistration("00 5656 541") } },
		{ "Cornet D'Amour 8'", { HarmonicsFromRegistration("00 3434 321") } },
		{ "Corno di Bassetto 8'", { HarmonicsFromRegistration("00 7141 432") } },
		{ "Corno Dolce 8'", { HarmonicsFromRegistration("00 3433 210") } },
		{ "Double Clarinet 16'", { HarmonicsFromRegistration("54 2221 000") } },
		{ "Double Oboe 16'", { HarmonicsFromRegistration("15 3101 000") } },
		{ "Double Trumpet 16'", { HarmonicsFromRegistration("67 7721 100") } },
		{ "Dulcian 16'", { HarmonicsFromRegistration("44 2211 000") } },
		{ "Dulcian 8'", { HarmonicsFromRegistration("00 4232 010") } },
		{ "Echo Oboe 8'", { HarmonicsFromRegistration("00 1241 210") } },
		{ "Echo Waldhoen 8'", { HarmonicsFromRegistration("00 3132 010") } },
		{ "English Horn 8'", { HarmonicsFromRegistration("00 2574 322") } },
		{ "Euphone 16'", { HarmonicsFromRegistration("44 4321 000") } },
		{ "Euphonium 16'", { HarmonicsFromRegistration("75 8500 000") } },
		{ "Fagotto 8'", { HarmonicsFromRegistration("00 6754 100") } },
		{ "Fanfare 8'", { HarmonicsFromRegistration("01 4888 872") } },
		{ "Field Trumpet 8'", { HarmonicsFromRegistration("01 4787 860") } },
		{ "Flugel Horn 8'", { HarmonicsFromRegistration("00 5777 560") } },
		{ "French Bugle 8'", { HarmonicsFromRegistration("01 6878 760") } },
		{ "French Horn 8'", { HarmonicsFromRegistration("00 7656 000") } },
		{ "French Trumpet 8'", { HarmonicsFromRegistration("00 7888 872") } },
		{ "Harmonic Oboe 8'", { HarmonicsFromRegistration("00 1373 432") } },
		{ "Harmonic Trumpet 8'", { HarmonicsFromRegistration("03 7888 860") } },
		{ "Harmonic Tuba 8'", { HarmonicsFromRegistration("03 8888 870") } },
		{ "Heckelphone 8'", { HarmonicsFromRegistration("00 4554 400") } },
		{ "Hunting Horn 8'", { HarmonicsFromRegistration("00 7464 320") } },
		{ "Labial Tuba 8'", { HarmonicsFromRegistration("00 8786 430") } },
		{ "Mellophone 8'", { HarmonicsFromRegistration("00 5777 540") } },
		{ "Military Fanfare 8'", { HarmonicsFromRegistration("01 7788 870") } },
		{ "Musette 8'", { HarmonicsFromRegistration("00 1260 211") } },
		{ "Oboe 8'", { HarmonicsFromRegistration("00 3562 320") } },
		{ "Oboe Horn 8'", { HarmonicsFromRegistration("00 4676 310") } },
		{ "Octave Oboe 4'", { HarmonicsFromRegistration("00 0213 071") } },
		{ "Ophicleide 8'", { HarmonicsFromRegistration("04 8888 882") } },
		{ "Orchestral Oboe 8'", { HarmonicsFromRegistration("00 2372 431") } },
		{ "Orch.Trumpet 8'", { HarmonicsFromRegistration("00 6788 870") } },
		{ "Oriental Reed 8'", { HarmonicsFromRegistration("00 1561 430") } },
		{ "Posaune 8'", { HarmonicsFromRegistration("00 7887 431") } },
		{ "Post Horn 8'", { HarmonicsFromRegistration("00 6677 650") } },
		{ "Reed Chorus", { HarmonicsFromRegistration("84 8888 874") } },
		{ "Saxophone 8'", { HarmonicsFromRegistration("01 8763 431") } },
		{ "Solo Tuba 8'", { HarmonicsFromRegistration("01 7787 770") } },
		{ "Tromba 16'", { HarmonicsFromRegistration("85 8632 000") } },
		{ "Trombone 8'", { HarmonicsFromRegistration("01 8767 760") } },
		{ "Trumpet Fanfare 8'", { HarmonicsFromRegistration("01 6787 880") } },
		{ "Trumpet Imperial 8'", { HarmonicsFromRegistration("00 6788 870") } },
		{ "Tuba 8'", { HarmonicsFromRegistration("03 6888 870") } },
		{ "Tuba Chorus",{ HarmonicsFromRegistration("84 8888 885") } },
		{ "Tuba Magna 8'", { HarmonicsFromRegistration("01 8888 880") } },
		{ "Tuba Major 8'", { HarmonicsFromRegistration("02 8888 770") } },
		{ "Tuba Minor 8'", { HarmonicsFromRegistration("00 4444 432") } },
		{ "Tuba Sonora 8'", { HarmonicsFromRegistration("02 7788 880") } },
		{ "Vox Humana 16'", { HarmonicsFromRegistration("20 4033 100") } },
		{ "Vox Humana 8'", { HarmonicsFromRegistration("00 2510 520") } },
		{ "Waldhorn 8'", { HarmonicsFromRegistration("00 3232 210") } },
		//{ "FLUTE STOPS") } },
		{ "Amorosa 8'", { HarmonicsFromRegistration("00 5121 000") } },
		{ "Amorosa 4'", { HarmonicsFromRegistration("00 0501 020") } },
		{ "Bass Flute 16'", { HarmonicsFromRegistration("51 4000 000") } },
		{ "Blockflote 8'", { HarmonicsFromRegistration("00 5320 000") } },
		{ "Blockflote 4'", { HarmonicsFromRegistration("00 0513 010") } },
		{ "Bourdon 16'", { HarmonicsFromRegistration("81 0000 000") } },
		{ "Chimney Flute 8'", { HarmonicsFromRegistration("00 5330 100") } },
		{ "Clarabella 8'", { HarmonicsFromRegistration("00 6320 000") } },
		{ "Clear Flute 4'", { HarmonicsFromRegistration("00 0603 000") } },
		{ "Concert Flute 4'", { HarmonicsFromRegistration("00 0500 020") } },
		{ "Concert Piccolo 2'", { HarmonicsFromRegistration("00 0005 000") } },
		{ "Contra Flute 16'", { HarmonicsFromRegistration("32 0000 000") } },
		{ "Dolcan 8'", { HarmonicsFromRegistration("00 7310 000") } },
		{ "Double Melodia 16'", { HarmonicsFromRegistration("63 5000 000") } },
		{ "Duophone 8'", { HarmonicsFromRegistration("00 4510 000") } },
		{ "Echo Bourdon 16'", { HarmonicsFromRegistration("40 0000 000") } },
		{ "Echoflote 8'", { HarmonicsFromRegistration("00 3100 000") } },
		{ "Echoflote 4'", { HarmonicsFromRegistration("00 0301 000") } },
		{ "Fife 2'", { HarmonicsFromRegistration("00 0006 001") } },
		{ "Fife 1'", { HarmonicsFromRegistration("00 0000 006") } },
		{ "Flageolet 2'", { HarmonicsFromRegistration("00 0008 002") } },
		{ "Flautino 2'", { HarmonicsFromRegistration("00 0005 003") } },
		{ "Flute 16'", { HarmonicsFromRegistration("50 4000 000") } },
		{ "Flute 8'", { HarmonicsFromRegistration("00 5400 000") } },
		{ "Flute 4'", { HarmonicsFromRegistration("00 0504 000") } },
		{ "Flute 2'", { HarmonicsFromRegistration("00 0005 004") } },
		{ "Forest Flute 8'", { HarmonicsFromRegistration("00 6220 000") } },
		{ "Full Flute 8'", { HarmonicsFromRegistration("00 8760 000") } },
		{ "Gedektflote 4'", { HarmonicsFromRegistration("00 0703 000") } },
		{ "Harmonic Flute 8'", { HarmonicsFromRegistration("00 4531 000") } },
		{ "Harmonic Flute 4'", { HarmonicsFromRegistration("00 0504 021") } },
		{ "Harmonic Piccolo 2'", { HarmonicsFromRegistration("00 0005 003") } },
		{ "Keraulophone 8'", { HarmonicsFromRegistration("00 6433 000") } },
		{ "Kleingedekt 8'", { HarmonicsFromRegistration("00 4300 000") } },
		{ "Kleingedekt 4'", { HarmonicsFromRegistration("00 0500 000") } },
		{ "Major Flute 8'", { HarmonicsFromRegistration("00 6530 000") } },
		{ "Minor Flute 8'", { HarmonicsFromRegistration("11 2000 000") } },
		{ "Nachthorn",{ HarmonicsFromRegistration("00 4120 000") } },
		{ "Oboe Flute 8'", { HarmonicsFromRegistration("00 4241 000") } },
		{ "Open Flute 8'", { HarmonicsFromRegistration("00 8510 000") } },
		{ "Piccolo 2'", { HarmonicsFromRegistration("00 0007 004") } },
		{ "Prinzipalflote 8'", { HarmonicsFromRegistration("00 8550 000") } },
		{ "Prinzipalflote 4'", { HarmonicsFromRegistration("00 0806 040") } },
		{ "Rohrflote 8'", { HarmonicsFromRegistration("00 6230 100") } },
		{ "Schongedekt 8'", { HarmonicsFromRegistration("00 6000 000") } },
		{ "Spire Flute 8'", { HarmonicsFromRegistration("00 6230 000") } },
		{ "Spitzflote 8'", { HarmonicsFromRegistration("00 4441 100") } },
		{ "Stopped Diapason 8'", { HarmonicsFromRegistration("00 8010 000") } },
		{ "Stopped Flute 8'", { HarmonicsFromRegistration("00 6020 000") } },
		{ "Stopped Flute 4'", { HarmonicsFromRegistration("00 0600 020") } },
		{ "Tibia 16'", { HarmonicsFromRegistration("84 0000 000") } },
		{ "Tibia 8'", { HarmonicsFromRegistration("00 8040 000") } },
		{ "Tibia 4'", { HarmonicsFromRegistration("00 0800 030") } },
		{ "Tibia Clausa 8'", { HarmonicsFromRegistration("00 8030 000") } },
		{ "Tibia Flute 4'", { HarmonicsFromRegistration("00 0800 030") } },
		{ "Traversflote 8'", { HarmonicsFromRegistration("00 4521 000") } },
		{ "Voce Flebile 16'", { HarmonicsFromRegistration("83 0000 000") } },
		{ "Vogelflote 4'", { HarmonicsFromRegistration("00 0506 000") } },
		{ "Waldflote 8'", { HarmonicsFromRegistration("00 6340 000") } },
		{ "Zartflote 8'", { HarmonicsFromRegistration("00 7431 000") } },
		//{ "FOUNDATION STOPS") } },
		{ "Bass Open Diap 16'", { HarmonicsFromRegistration("86 8542 000") } },
		{ "Bell Diapason 8'", { HarmonicsFromRegistration("00 8866 540") } },
		{ "Cathedral Diap 8'", { HarmonicsFromRegistration("00 7765 420") } },
		{ "Choir Diapason 8'", { HarmonicsFromRegistration("00 7644 321") } },
		{ "Diapason Phonon 8'", { HarmonicsFromRegistration("00 8876 651") } },
		{ "Diap Profunda 16'", { HarmonicsFromRegistration("87 8644 220") } },
		{ "Diapason Magna 8'", { HarmonicsFromRegistration("03 8866 541") } },
		{ "Doule Diapason 16'", { HarmonicsFromRegistration("85 8432 200") } },
		{ "Echo Diapason 16'", { HarmonicsFromRegistration("43 4220 000") } },
		{ "Echo Diapason 8'", { HarmonicsFromRegistration("00 4321 100") } },
		{ "Flute A Pavillon 8'", { HarmonicsFromRegistration("00 8866 540") } },
		{ "Grand Diapason 16'", { HarmonicsFromRegistration("87 8641 000") } },
		{ "Grand Diapason 8'", { HarmonicsFromRegistration("00 8856 540") } },
		{ "Grand Diap Chorus",{ HarmonicsFromRegistration("87 8877 545") } },
		{ "Grand Prinzipal 8'", { HarmonicsFromRegistration("02 8865 430") } },
		{ "Harmonic Diap 16'", { HarmonicsFromRegistration("86 8534 100") } },
		{ "Harmonic Diap 4'", { HarmonicsFromRegistration("00 0706 045") } },
		{ "Horn Diapason 8'", { HarmonicsFromRegistration("00 8887 640") } },
		{ "Major Diapason 16'", { HarmonicsFromRegistration("88 8753 000") } },
		{ "Major Diapason 8'", { HarmonicsFromRegistration("03 8877 641") } },
		{ "Minor Diapason 8'", { HarmonicsFromRegistration("00 8766 540") } },
		{ "Octave 4'", { HarmonicsFromRegistration("00 0805 010") } },
		{ "Octave Harm  Diap 4'", { HarmonicsFromRegistration("00 0706 045") } },
		{ "Open Diapason 8'", { HarmonicsFromRegistration("02 8876 540") } },
		{ "Prestant 8'", { HarmonicsFromRegistration("00 8766 322") } },
		{ "Prestant 4'", { HarmonicsFromRegistration("00 0707 054") } },
		{ "Prinzipal 8'", { HarmonicsFromRegistration("00 8875 530") } },
		{ "Solo Diapason 16'", { HarmonicsFromRegistration("86 8534 000") } },
		{ "Solo Diapason 8'", { HarmonicsFromRegistration("02 8865 441") } },
		{ "Solo Diapason 4'", { HarmonicsFromRegistration("00 0828 055") } },
		{ "Stopped Diapason 8'", { HarmonicsFromRegistration("00 8020 000") } },
		{ "Swell Diapason 8'", { HarmonicsFromRegistration("00 8765 320") } },
		{ "Viola Diapason 8'", { HarmonicsFromRegistration("00 8786 231") } },
		{ "Violin Diapason 8'", { HarmonicsFromRegistration("00 8675 431") } },
		{ "Wood Diapason 16'", { HarmonicsFromRegistration("84 8310 000") } },
		{ "Wood Diapason 8'", { HarmonicsFromRegistration("00 8754 320") } },
		{ "Wood Diapson 4'", { HarmonicsFromRegistration("00 0807 045") } },
		//{ "PERCUSSION STOPS") } },
		{ "Bells 8'", { HarmonicsFromRegistration("00 3504 002") } },
		{ "Chimes 8'", { HarmonicsFromRegistration("00 3700 000") } },
		{ "Harp 8'", { HarmonicsFromRegistration("00 3800 000") } },
		{ "Marimba 8'", { HarmonicsFromRegistration("00 8005 000") } },
		{ "Vibraharp 8'", { HarmonicsFromRegistration("00 7000 000") } },
		{ "Xylophone 8'", { HarmonicsFromRegistration("00 8000 270") } },
		//{ "STRING STOPS") } },
		{ "Aeoline 8'", { HarmonicsFromRegistration("00 1321 101") } },
		{ "Bass Violin 16'", { HarmonicsFromRegistration("14 5431 000") } },
		{ "Bell Gamba 8'", { HarmonicsFromRegistration("00 2766 543") } },
		{ "Celeste 8'", { HarmonicsFromRegistration("00 2563 311") } },
		{ "Cello 8'", { HarmonicsFromRegistration("00 1454 432") } },
		{ "Cello Pomposa 8'", { HarmonicsFromRegistration("00 2767 321") } },
		{ "Contra Dulciana 16'", { HarmonicsFromRegistration("65 6000 000") } },
		{ "Contra Gamba 16'", { HarmonicsFromRegistration("37 5400 000") } },
		{ "Dulciana 8'", { HarmonicsFromRegistration("00 7880 000") } },
		{ "Echo Dulciana 8'", { HarmonicsFromRegistration("00 2110 000") } },
		{ "Echo Violin 8'", { HarmonicsFromRegistration("00 1234 321") } },
		{ "Etherial Violin 8'", { HarmonicsFromRegistration("00 1342 322") } },
		{ "Gamba 8'", { HarmonicsFromRegistration("00 3474 432") } },
		{ "Gemshorn 8'", { HarmonicsFromRegistration("00 4742 321") } },
		{ "Grand Violin 8'", { HarmonicsFromRegistration("00 3776 543") } },
		{ "Gross Cello 8'", { HarmonicsFromRegistration("00 3767 542") } },
		{ "Gross Gamba 8'", { HarmonicsFromRegistration("00 4787 542") } },
		{ "Gross Gemshorn 8'", { HarmonicsFromRegistration("00 6876 542") } },
		{ "Muted Cello 8'", { HarmonicsFromRegistration("00 1343 020") } },
		{ "Muted String 8'", { HarmonicsFromRegistration("00 2453 021") } },
		{ "Muted Violin 8'", { HarmonicsFromRegistration("00 1565 120") } },
		{ "Octave Gemshorn 4'", { HarmonicsFromRegistration("00 0507 042") } },
		{ "Orchestral String 8'", { HarmonicsFromRegistration("00 1464 322") } },
		{ "Salicional 16'", { HarmonicsFromRegistration("35 4321 000") } },
		{ "Salicional 8'", { HarmonicsFromRegistration("00 2454 321") } },
		{ "Salicional 4'", { HarmonicsFromRegistration("00 0214 053") } },
		{ "Soft String 16'", { HarmonicsFromRegistration("13 3211 000") } },
		{ "Soft String 4'", { HarmonicsFromRegistration("00 0213 032") } },
		{ "Solo Cello 8'", { HarmonicsFromRegistration("00 1656 331") } },
		{ "Solo Viola 8'", { HarmonicsFromRegistration("00 2475 341") } },
		{ "Solo Violin 8'", { HarmonicsFromRegistration("00 1586 341") } },
		{ "String Organ",{ HarmonicsFromRegistration("22 5786 765") } },
		{ "String Reed 8'", { HarmonicsFromRegistration("00 5564 321") } },
		{ "Viola 8'", { HarmonicsFromRegistration("00 2464 332") } },
		{ "Viola Celesta 8'", { HarmonicsFromRegistration("00 2464 221") } },
		{ "Viola da Gamba 8'", { HarmonicsFromRegistration("00 2464 432") } },
		{ "Viola D'Amore 8'", { HarmonicsFromRegistration("00 2433 321") } },
		{ "Viola Sorda 8'", { HarmonicsFromRegistration("00 2232 210") } },
		{ "Violetta 4'", { HarmonicsFromRegistration("00 0114 053") } },
		{ "Violin 8'", { HarmonicsFromRegistration("00 1565 653") } },
		{ "Violina 4'", { HarmonicsFromRegistration("00 0113 064") } },
		{ "Violine 16'", { HarmonicsFromRegistration("26 3432 000") } },
		{ "Voix Celeste 8'", { HarmonicsFromRegistration("00 2565 233") } }
	};

	Additive::Harmonics DrawbarOrgan::HarmonicsFromRegistration(std::string const &registrationString)
	{
		// Parse the string - there should be 9 digits in there, ignore spaces
		Additive::Harmonics harmonics;
		int position = 0;
		for (char c : registrationString) {
			if (c >= '0' && c <= '8') {
				// Valid character
				int value = c - '0';
				harmonics.push_back(std::make_pair(kHammondDrawbars[position].harmonic_number_, value / 8.0f));
				position++;
			}
			else if (c != ' ') {
				// Invalid
				jassert(false);
			}
		}
		return harmonics;
	}

}
